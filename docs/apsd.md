# apsd

## Glossary
- `Client identity`: The public/private key pair allowing `apsd` to connect to the APS couriers.

## Client identity generation
The client identity is generated by the `APSCertificateProvisioner`, who stores the private key as non-extractable with the CSSM. Interposing the `createUserKeyPair:privKey:keychain:algorithm:size:userName:accessRef:` method and stashing the `privKey` output is a workaround to grab the private key before it is stored in the CSSM. **I do not recommend storing the same private key that will be used by your system! Make a separate one, with a separate identity for your purposes.**

